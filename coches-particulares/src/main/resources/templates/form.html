<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="layout/layout :: head"></head>
<body>

	<header th:replace="layout/layout :: header"></header>

	<div class="container py-4">

		<div class="card bg-light">
			<div class="list-group-item list-group-item-primary lead text-primary" th:text="${titulo}"></div>
			<div class="card-body">

				<div th:object="${coche}" th:remove="tag">
					<ul th:if="${#fields.hasErrors('*')}" class="alert alert-danger"
						role="alert">
						<li th:each="err : ${#fields.errors('*')}" th:text="${err}"></li>
					</ul>
				</div>

				<form th:action="@{/form}" th:object="${coche}" method="post" enctype="multipart/form-data">

					<!-- XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX -->
					<!-- XXXXXXXXXXXXXXXXXXXX  DATOS VEHICULO XXXXXXXXXXXXXXXXXXXXXX -->
					<!-- XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX -->

					<div class="form-group row">
						<ul class="list-group px-3 col-sm-8">
							<li class=" list-group-item list-group-item-primary lead text-primary" th:text="'Datos del coche'"></li>
						</ul> 
					</div>

					<div class="form-group row">
						<label for="precio" class="col-sm-2 col-form-label">Precio</label>
						<div class="col-sm-6">
							<input type="text" th:field="*{precio}" class="form-control"
								th:errorclass="'form-control alert-danger'" /> <small
								class="form-text text-danger"
								th:if="${#fields.hasErrors('precio')}" th:errors="*{precio}"></small>
						</div>
					</div>
					<div class="form-group row">
						<label for="marca" class="col-sm-2 col-form-label">Marca</label>
						<div class="col-sm-6">
							<input type="text" th:field="*{marca}" class="form-control"
								th:errorclass="'form-control alert-danger'" /> <small
								class="form-text text-danger"
								th:if="${#fields.hasErrors('marca')}" th:errors="*{marca}"></small>
						</div>
					</div>
					<div class="form-group row">
						<label for="modelo" class="col-sm-2 col-form-label">Modelo</label>
						<div class="col-sm-6">
							<input type="text" th:field="*{modelo}" class="form-control"
								th:errorclass="'form-control alert-danger'" /> <small
								class="form-text text-danger"
								th:if="${#fields.hasErrors('modelo')}" th:errors="*{modelo}"></small>
						</div>
					</div>
					<div class="form-group row">
						<label for="provincia" class="col-sm-2 col-form-label">Provincia</label>
						<div class="col-sm-6">
							<input type="text" th:field="*{provincia}" class="form-control"
								th:errorclass="'form-control alert-danger'" /> <small
								class="form-text text-danger"
								th:if="${#fields.hasErrors('provincia')}"
								th:errors="*{provincia}"></small>
						</div>
					</div>
					<div class="form-group row">
						<label for="combustible" class="col-sm-2 col-form-label">Combustible</label>
						<div class="col-sm-6">
							<input type="text" th:field="*{combustible}" class="form-control"
								th:errorclass="'form-control alert-danger'" /> <small
								class="form-text text-danger"
								th:if="${#fields.hasErrors('combustible')}"
								th:errors="*{combustible}"></small>
						</div>
					</div>
					<div class="form-group row">
						<label for="kilometros" class="col-sm-2 col-form-label">Kilómetros</label>
						<div class="col-sm-6">
							<input type="text" th:field="*{kilometros}" class="form-control"
								th:errorclass="'form-control alert-danger'" /> <small
								class="form-text text-danger"
								th:if="${#fields.hasErrors('kilometros')}"
								th:errors="*{kilometros}"></small>
						</div>
					</div>
					<div class="form-group row">
						<label for="ano" class="col-sm-2 col-form-label">Año</label>
						<div class="col-sm-6">
							<input type="text" th:field="*{ano}" class="form-control"
								th:errorclass="'form-control alert-danger'" /> <small
								class="form-text text-danger"
								th:if="${#fields.hasErrors('ano')}" th:errors="*{ano}"></small>
						</div>
					</div>
					<div class="form-group row">
						<label for="cambio" class="col-sm-2 col-form-label">Cambio</label>
						<div class="col-sm-6">
							<input type="text" th:field="*{cambio}" class="form-control"
								th:errorclass="'form-control alert-danger'" /> <small
								class="form-text text-danger"
								th:if="${#fields.hasErrors('cambio')}" th:errors="*{cambio}"></small>
						</div>
					</div>
					<div class="form-group row">
						<label for="plazas" class="col-sm-2 col-form-label">Plazas</label>
						<div class="col-sm-6">
							<input type="text" th:field="*{plazas}" class="form-control"
								th:errorclass="'form-control alert-danger'" /> <small
								class="form-text text-danger"
								th:if="${#fields.hasErrors('plazas')}" th:errors="*{plazas}"></small>
						</div>
					</div>
					<div class="form-group row">
						<label for="puertas" class="col-sm-2 col-form-label">Puertas</label>
						<div class="col-sm-6">
							<input type="text" th:field="*{puertas}" class="form-control"
								th:errorclass="'form-control alert-danger'" /> <small
								class="form-text text-danger"
								th:if="${#fields.hasErrors('puertas')}" th:errors="*{puertas}"></small>
						</div>
					</div>
					<div class="form-group row">
						<label for="potencia" class="col-sm-2 col-form-label">Potencia</label>
						<div class="col-sm-6">
							<input type="text" th:field="*{potencia}" class="form-control"
								th:errorclass="'form-control alert-danger'" /> <small
								class="form-text text-danger"
								th:if="${#fields.hasErrors('potencia')}" th:errors="*{potencia}"></small>
						</div>
					</div>
					<div class="form-group row">
						<label for="color" class="col-sm-2 col-form-label">Color</label>
						<div class="col-sm-6">
							<input type="text" th:field="*{color}" class="form-control"
								th:errorclass="'form-control alert-danger'" /> <small
								class="form-text text-danger"
								th:if="${#fields.hasErrors('color')}" th:errors="*{color}"></small>
						</div>
					</div>
					<div class="form-group row">
						<label for="garantia" class="col-sm-2 col-form-label">Garantía</label>
						<div class="col-sm-6">
							<input type="text" th:field="*{garantia}" class="form-control"
								th:errorclass="'form-control alert-danger'" /> <small
								class="form-text text-danger"
								th:if="${#fields.hasErrors('garantia')}" th:errors="*{garantia}"></small>
						</div>
					</div>
					<div class="form-group row">
						<label for="createAt" class="col-sm-2 col-form-label">Fecha</label>
						<div class="col-sm-6">
							<input type="text" th:field="*{createAt}" class="form-control"
								th:errorclass="'form-control alert-danger'" /> <small
								class="form-text text-danger"
								th:if="${#fields.hasErrors('createAt')}" th:errors="*{createAt}"></small>
						</div>
					</div>
					<div sec:authorize="hasRole('ROLE_ADMIN')" class="form-group row">
						<label for="publicado" class="col-sm-2 col-form-label">Publicado</label>
						<div class="col-sm-6">
							<input type="text" th:field="*{publicado}" class="form-control"
								th:errorclass="'form-control alert-danger'" /> <small
								class="form-text text-danger"
								th:if="${#fields.hasErrors('publicado')}" th:errors="*{publicado}"></small>
						</div>
					</div>					
					<div class="form-group row">
						<label for="file" class="col-sm-2 col-form-label">Foto</label>
						<div class="col-sm-6">
							<input type="file" name="file" class="form-control" />
						</div>
					</div>
					
					<!-- XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX -->
					<!-- XXXXXXXXXXXXXXXXXXXX  DATOS VENDEDOR XXXXXXXXXXXXXXXXXXXXXX -->
					<!-- XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX -->
					
					<div class="form-group row">
						<ul class="list-group px-3 col-sm-8">
							<li class="list-group-item list-group-item-primary lead text-primary" th:text="'Datos del Vendedor'"></li>
						</ul> 
					</div>
					
					<div class="form-group row">
						<label for="nombre" class="col-sm-2 col-form-label" th:text="'Su nombre: '"></label>
						<div class="col-sm-6">
							<input type="text" th:field="*{nombre}" class="form-control" />
						</div>
					</div>
					<div class="form-group row">
						<label for="email" class="col-sm-2 col-form-label" th:text="'Email: '"></label>
						<div class="col-sm-6">
							<input type="text" th:field="*{email}" class="form-control" />
						</div>
					</div>
					<div class="form-group row">
						<label for="telefono" class="col-sm-2 col-form-label" th:text="'Teléfono: '"></label>
						<div class="col-sm-6">
							<input type="text" th:field="*{telefono}" class="form-control" />
						</div>
					</div>
					<div class="form-group row">
						<label for="mensaje" class="col-sm-2 col-form-label" th:text="'Mensaje: '"></label>
						<div class="col-sm-6">
							<textarea th:field="*{mensaje}" class="form-control"></textarea> 
						</div>
					</div>
					
					<!-- XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX -->
					<!-- XXXXXXXXXXXXXXXXXXX  fin DATOS VENDEDOR XXXXXXXXXXXXXXXXXXX -->
					<!-- XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX -->
					
					<div class="form-group row">
						<div class="col-sm-6">
							<input type="submit" value="Crear Coche" class="btn btn-primary" />
						</div>
					</div>
					<!-- Se pasa a @SessionAttributes y en guardar SessionStatus con status.setComplete;
     <input type="hidden" th:field="*{id}" /> y se elimina este hidden-->
				</form>
			</div>
		</div>
	</div>
	<footer th:replace="layout/layout :: footer"></footer>
</body>
</html>